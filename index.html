<!DOCTYPE html><html lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>ALES - the Akihabara Level Editor &amp; Sharer</title>

  <script type="text/javascript" src="lib/first.js"></script>
  <script type="text/javascript" src="lib/ba-debug.js"></script>
  <script type="text/javascript" src="lib/config.js"></script>
  <script type="text/javascript" src="lib/head.js"></script>
</head>
<body>
  <div id="container"></div>
  <textarea id="level_1_csv" style="display: none">
10,z
10.5,z
11,v
11.5,c
12,v
12.5,c
13,x
13.5,z
0,end_enemy
18,z
18.5,z
19,v
19.5,c
20,v
20.5,c
21,x
21.5,z
0,end_player
26,x
26.5,x
27,z
27.5,x
28,c
28.5,c
29,x
29.5,c
30,v
31,c 
32,x
32.5,c
33,z
0,end_player
34,x
34.5,x
35,z
35.5,x
36,c
36.5,c
37,x
37.5,c
38,v
39,c 
40,x
40.5,c
41,z
0,end_player
43.25,c
43.75,z
44,x
45.75,x
46,z
46.5,x
47,c
48,x
48.5,c
49,v
0,end_enemy
51.25,c
51.75,z
52,x
53.75,x
54,z
54.5,x
55,c
56,x
56.5,c
57,v
0,end_player
58,v
58.5,x
60,c
60.5,z
62,z
62.5,x
64,c
64.5,v
0,end_enemy
66,v
66.5,x
68,c
68.5,z
70,z
70.5,x
72,v
72.5,c
73,x
73.5,z
74.25,z
74.5,x
75,x
75.5,c
76,v
76.25,c
76.5,v
77,c
77.25,v
77.75,c
78,v
78.5,c
78.75,v
79.25,c
79.5,v
80,c
80.25,v
80.75,c
81,v
81.5,x
82,z
0,end_player
  </textarea>
  <textarea id="level_2_csv" style="display: none">
    <!-- Past the CSV data here -->
  </textarea>
<script>
  head.js('lib/underscore.js',
    { jquery: 'lib/jquery/jquery-1.4.4.js' },
    'lib/klass.js',
    { bbq: 'lib/jquery/jquery.ba-bbq.js' },
    'lib/core.js',
    'lib/extensions/date_time.js',
    'lib/level.js',
    'lib/jquery/jquery-ui.js',
    'lib/showdown.js',
    'lib/jquery/jquery.showdown.js',
    'lib/jquery/jquery.tmpl.js',
    'lib/tutorials/tutorial.js',
    'lib/tutorials/tutorial_manager.js',
    'lib/tutorials/jquery.tutorials.js',
    'lib/jquery-ui/jquery.ui.tutorial.js',
    'lib/jquery-ui/jquery.ui.toolbox.js',
    'lib/jquery/jquery.tools_tooltips.min.js',
    'akiba/core.js',
    'akiba/camera.js',
    'akihabara/gbox.js',
    'akihabara/iphopad.js',
    'akihabara/trigo.js',
    'akihabara/toys.js',
    'akihabara/help.js',
    'akihabara/tool.js',
    { akihabara: 'akihabara/gamecycle.js' },
    'lib/overrides.js',
    'lib/player.js',
    'lib/enemy.js',
	'lib/battle.js',
    'lib/actors/top_down.js',
    'lib/actors/aki_player.js',
    'lib/actors/platform_person.js',
    { game: 'lib/game.js' },
    'game/punk_is_dead.js',
    'game/assets.js',
    'game/enemies.js',
    'game/fights.js',
    'lib/levels/map.js'
  );

  var level_1_csv_text;
  var lines;
  var level_data = new Array();
  head.ready('jquery', function() {
    // An example of getting the raw CSV string from the textarea
    level_1_csv_text = $('#level_1_csv').text();
    lines = level_1_csv_text.split("\n");
    _(lines).each(function(line) {
		level_data.push(line.split(','));
    });
  });

  head.ready('bbq', function() {
    urlParams = $.deparam.querystring();
  });

  function getURLParam(name) {
    return urlParams[name];
  }

  head.ready(function() {
    urlParams = $.deparam.querystring();
    currentLevel = new Level();

    the_game = new PunkIsDead();
    the_game.start && the_game.start();
    the_game.level = currentLevel.map;
  });
</script>
</body></html>