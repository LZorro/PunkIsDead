<!DOCTYPE html><html lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>ALES - the Akihabara Level Editor &amp; Sharer</title>

  <!-- <link rel="stylesheet" href="css/jquery-ui.css"> -->

  <script type="text/javascript" src="lib/first.js"></script>
  <script type="text/javascript" src="lib/ba-debug.js"></script>
  <script type="text/javascript" src="lib/config.js"></script>
  <script type="text/javascript" src="lib/head.js"></script>
</head>
<body>
  <div id="container"></div>
  <textarea id="level_1_csv" style="display: none">
4,attack
4,defend
11,defend
12,defend
18,z
18.5,z
19,v
19.5,x
20,v
21,c
22,attack
23,defend
34,x
34.5,x
35,z
35.5,c
36,v
36.5,v
37,x
37.5,v
38,v
39,c
40,x
40.5,z
41,v
42,attack
51.25,v
52,x
54,x
55,c
56,x
57,v
58,attack
66,v
66.5,x
68,c
68.5,z
70,x
70.5,c
71,defend
72,c
72.5,c
73,x
73.5,z
74.5,x
75,c
75.5,c
76,v
76.5,v
77,v
77.5,v
78,v
78.5,v
79,v
79.5,v
80,v
80.5,v
81,v
81.5,v
82,z
83,attack</textarea>
  <textarea id="level_2_csv" style="display: none">
    <!-- Past the CSV data here -->
  </textarea>
<script>
  head.js('lib/underscore.js',
    { jquery: 'lib/jquery/jquery-1.4.4.js' },
    'lib/klass.js',
    { bbq: 'lib/jquery/jquery.ba-bbq.js' },
    'lib/core.js',
    'lib/extensions/date_time.js',
    'lib/level.js',
    'lib/jquery/jquery-ui.js',
    'lib/showdown.js',
    'lib/jquery/jquery.showdown.js',
    'lib/jquery/jquery.tmpl.js',
    'lib/tutorials/tutorial.js',
    'lib/tutorials/tutorial_manager.js',
    'lib/tutorials/jquery.tutorials.js',
    'lib/jquery-ui/jquery.ui.tutorial.js',
    'lib/jquery-ui/jquery.ui.toolbox.js',
    'lib/jquery/jquery.tools_tooltips.min.js',
    'lib/akiba.js',
    'akihabara/gbox.js',
    'akihabara/iphopad.js',
    'akihabara/trigo.js',
    'akihabara/toys.js',
    'akihabara/help.js',
    'akihabara/tool.js',
    { akihabara: 'akihabara/gamecycle.js' },
    'lib/overrides.js',
    'lib/player.js',
    'lib/enemy.js',
	'lib/battle.js',
    'lib/actors/top_down.js',
    'lib/actors/aki_player.js',
    'lib/actors/platform_person.js',
    'game/punk_is_dead.js',
    'game/assets.js',
    'game/enemies.js',
    'game/fights.js',
    { game: 'lib/game.js' },
    'lib/levels/map.js'
  );

  var level_1_csv_text;
  var lines;
  var level_data = new Array();
  head.ready('jquery', function() {
    // An example of getting the raw CSV string from the textarea
    level_1_csv_text = $('#level_1_csv').text();
    lines = level_1_csv_text.split("\n");
    _(lines).each(function(line) {
		level_data.push(line.split(','));
    });
  });

  head.ready('bbq', function() {
    urlParams = $.deparam.querystring();
  });

  function getURLParam(name) {
    return urlParams[name];
  }

  head.ready(function() {
    urlParams = $.deparam.querystring();
    currentLevel = new Level();

    the_game = new $games[getURLParam('game') || $config.default_game]();
    the_game.start && the_game.start();
    the_game.level = currentLevel.map;
  });
</script>
</body></html>